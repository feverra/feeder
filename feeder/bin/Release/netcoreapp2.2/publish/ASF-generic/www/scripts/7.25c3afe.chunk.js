(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{176:function(t,e,n){"use strict";function a(t){return"en-US"!==t?"-".concat(t):""}n.d(e,"a",function(){return a})},177:function(t,e,n){"use strict";function a(t,e){const n=t.split(".").map(t=>parseInt(t,10)),a=e.split(".").map(t=>parseInt(t,10)),r=Math.max(n.length,a.length);for(let i=0;i<r;++i){const t=n[i]||0,e=a[i]||0;if(t!==e)return t>e?1:-1}return 0}n.d(e,"a",function(){return a})},180:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var a=n(6),r=n(177),i=n(176);async function o(t,e,n){const o=await async function(t,e,n){const o=Object(i.a)(n),s="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/".concat(t).concat(o);if(!e)return s;const c=await a.e("www/send",{url:"https://api.github.com/repos/JustArchiNET/ArchiSteamFarm/releases?per_page=20"}),u=JSON.parse(c),l=u.findIndex(t=>Object(r.a)(e,t.tag_name)>-1);if(-1===l){const t=u[0].tag_name;return Object(r.a)(e,t),s}if(0===l)return s;const m=new Date(u[l-1].published_at),f=await a.e("www/send",{url:"https://github.com/JustArchiNET/ArchiSteamFarm/wiki/".concat(t).concat(o,"/_history")}),d=document.createElement("html");d.innerHTML=f;const p=Array.from(d.querySelectorAll(".js-wiki-history-revision")).map(t=>({releaseTime:new Date(t.querySelector("relative-time").getAttribute("datetime")),version:t.querySelector(".js-wiki-history-checkbox").value})).find(t=>{let{releaseTime:e}=t;return e<m});return p?"https://github.com/JustArchiNET/ArchiSteamFarm/wiki/".concat(t).concat(o,"/").concat(p.version):s}(t,e,n);return await a.e("www/send",{url:o})}},186:function(t,e,n){"use strict";var a=n(6);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const s=new Map,c=new Map,u=/\[[^\]]+]/g;async function l(t){if(c.has(t))return c.get(t);const e=a.d("structure/".concat(encodeURIComponent(t)));return c.set(t,e),e}async function m(t){const e=function(t){const e=t.match(u);return e?e.map(t=>t.slice(1,t.length-1)):[]}(t);switch(t.split("`")[0]){case"System.Boolean":return{type:"boolean"};case"System.String":return{type:"string"};case"System.Byte":return{type:"byte"};case"System.UInt32":return{type:"uint32"};case"System.UInt16":return{type:"uint16"};case"System.Collections.Generic.HashSet":case"System.Collections.Immutable.ImmutableHashSet":return{type:"hashSet",values:await m(e[0])};case"System.Collections.Immutable.ImmutableList":return{type:"list",values:await m(e[0])};case"System.UInt64":return{type:"uint64"};case"System.Collections.Generic.Dictionary":case"System.Collections.Immutable.ImmutableDictionary":return{type:"dictionary",key:await m(e[0]),value:await m(e[1])};default:return d(t)}}function f(t){const e={};for(const n of Object.keys(t))e[n]=parseInt(t[n],10);return e}async function d(t){"ArchiSteamFarm.BotConfig"===t&&l(t);const e=await async function(t){if(s.has(t))return s.get(t);const e=a.d("type/".concat(encodeURIComponent(t)));return s.set(t,e),e}(t);switch(e.Properties.BaseType){case"System.Object":return async function(t,e){const n={type:"object",body:{}},[a,r]=await Promise.all([l(t),Promise.all(Object.keys(e.Body).map(async t=>({param:t,type:await m(e.Body[t])})))]);for(const o of r){const{param:t,type:r}=o,s="System.UInt64"!==e.Body[t]?t:"s_".concat(t);n.body[t]=i({defaultValue:a[t],paramName:s,param:t},r)}return n}(t,e);case"System.Enum":return{type:(e.Properties.CustomAttributes||[]).includes("System.FlagsAttribute")?"flag":"enum",values:f(e.Body)};default:return{type:"unknown",typeDefinition:e,structureDefinition:await l(t)}}}e.a=d},187:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var a=n(180),r=n(176),i=n(0);async function o(t,e){const n=i.a("cache:parameter-descriptions:".concat(e));if(n){const{timestamp:t,descriptions:e}=n;if(t>Date.now()-864e5)return e}const o={},c=await Object(a.a)("Configuration",t,e),u=document.createElement("html");u.innerHTML=c;const l=Array.from(u.querySelectorAll("h3 > code"));for(const a of l){const t=a.innerText,n=[];let i=a.parentElement.nextElementSibling;for(;i&&"hr"!==i.tagName.toLowerCase();){s(i.querySelectorAll('a[href^="#"]'),"Configuration",Object(r.a)(e)),n.push(i.outerHTML),i=i.nextElementSibling}o[t]=n.join(" ")}return i.c("cache:parameter-descriptions:".concat(e),{timestamp:Date.now(),descriptions:o}),o}function s(t,e,n){for(const a of t)a&&(a.setAttribute("href","https://github.com/JustArchiNET/ArchiSteamFarm/wiki/".concat(e).concat(n).concat(a.hash)),a.setAttribute("target","_blank"))}},188:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const a=/"s_(\w+)":\s*"(\d+)"/g;function r(t){return JSON.stringify(t,null,2).replace(a,'"$1":$2')}},189:function(t,e,n){"use strict";function a(t,e){for(const n of t)if(n.name===e)return!0;return!1}n.d(e,"a",function(){return a})},211:function(t,e,n){var a=n(295);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(5).default)("507b9986",a,!1,{})},294:function(t,e,n){"use strict";var a=n(211);n.n(a).a},295:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".main-container--bot-configuration{max-width:1000px}\n",""])},345:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.bot?n("main",{staticClass:"main-container main-container--bot-configuration"},[t.bot.nickname&&t.nicknames?n("h2",{staticClass:"title"},[t._v("\n\t\t"+t._s(t.bot.nickname)+"\n\t")]):n("h2",{staticClass:"title"},[t._v("\n\t\t"+t._s(t.bot.name)+"\n\t")]),t._v(" "),t.loading?n("h3",{staticClass:"subtitle"},[n("font-awesome-icon",{attrs:{icon:"spinner",size:"lg",spin:""}})],1):n("div",{staticClass:"container"},[t.displayCategories?n("config-editor",{attrs:{fields:t.fields,model:t.model,categories:t.categories}}):n("config-editor",{attrs:{fields:t.fields,model:t.model}}),t._v(" "),n("div",{staticClass:"form-item"},[n("div",{staticClass:"form-item__buttons"},[n("button",{staticClass:"button button--confirm",on:{click:t.onSave}},[t.saving?n("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}):n("span",[t._v(t._s(t.$t("save")))])],1),t._v(" "),n("router-link",{staticClass:"button button--confirm",attrs:{tag:"button",to:{name:"bot-copy",params:{bot:t.bot.name}}}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("bot-copy"))+"\n\t\t\t\t")]),t._v(" "),n("button",{staticClass:"button button--link pull-right",on:{click:t.onDownload}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("download-raw-config"))+"\n\t\t\t\t")])],1)])],1)]):t._e()};a._withStripped=!0;var r=n(3),i=n(191),o=n(186),s=n(187),c=n(188);n(189),n(14);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){m(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={name:"bot-config",components:{ConfigEditor:i.a},data(){return{loading:!0,saving:!1,fields:[],model:{},categories:[{name:this.$t("basic"),fields:["Name","SteamLogin","SteamPassword","Enabled","Paused","OnlineStatus","BotBehaviour"]},{name:this.$t("security"),fields:["PasswordFormat","UseLoginKeys"]},{name:this.$t("access"),fields:["SteamUserPermissions","SteamParentalCode"]},{name:this.$t("trade"),fields:["SteamTradeToken","AcceptGifts","SendTradePeriod","SendOnFarmingFinished","TradingPreferences","LootableTypes","TransferableTypes","MatchableTypes"]},{name:this.$t("farming"),fields:["FarmingOrders","AutoSteamSaleEvent","IdlePriorityQueueOnly","IdleRefundableGames","FarmOffline","ShutdownOnFarmingFinished"]},{name:this.$t("customization"),fields:["SteamMasterClanID","RedeemingPreferences","GamesPlayedWhileIdle","CustomGamePlayedWhileFarming","CustomGamePlayedWhileIdle"]},{name:this.$t("performance"),fields:["HoursUntilCardDrops"]}]}},computed:l({},Object(r.c)({version:"asf/version",nicknames:"settings/nicknames",displayCategories:"settings/displayCategories",bots:"bots/bots"}),{bot(){return this.$store.getters["bots/bot"](this.$route.params.bot)}}),watch:{$route:{immediate:!0,handler:"loadConfig"}},created(){this.bot||this.$router.replace({name:"bots"})},methods:{async loadConfig(){const[{body:t},{[this.bot.name]:{BotConfig:e}},n]=await Promise.all([Object(o.a)("ArchiSteamFarm.BotConfig"),this.$http.get("bot/".concat(this.bot.name)),Object(s.a)(this.version,this.$i18n.locale)]);Object.keys(e).forEach(t=>{t.startsWith("s_")&&delete e[t.substr(2)]}),this.model=e;const a={SteamLogin:{placeholder:this.$t("keep-unchanged")},SteamPassword:{placeholder:this.$t("keep-unchanged")},SteamParentalCode:{placeholder:this.$t("keep-unchanged")}};this.fields=Object.keys(t).map(e=>l({description:n[e]},t[e],{},a[e]||[])),this.loading=!1},async onSave(){if(!this.saving)if("ASF"!==this.model.Name){this.saving=!0;try{await this.$http.post("bot/".concat(this.bot.name),{botConfig:this.model}),this.$parent.back()}catch(t){this.$error(t.message)}finally{this.saving=!1}}else this.$error(this.$t("bot-create-name-asf"))},async onDownload(){const t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(Object(c.a)(this.model)))),t.setAttribute("download","".concat(this.bot.name,".json")),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}},d=(n(294),n(1)),p=Object(d.a)(f,a,[],!1,null,null,null);p.options.__file="src/views/modals/BotConfiguration.vue";e.default=p.exports}}]);